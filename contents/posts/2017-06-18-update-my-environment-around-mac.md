---
title: Mac周りをいろいろと物理的にアップデートした
slug: update-my-environment-around-mac
tags:
  - カスタマイズ
  - ガジェット
  - Hack
  - Mac
date: 2017-06-18T00:00:00.000Z
---
+ 7/2解像度まわりに関してちょっと誤解があったため追記

いろいろたてつづけにMac周りの環境をアップデートした話。ちょっとお金に余裕ができたから環境をアップグレードしてみたら、Macを変えなきゃいけなくなって、結果的に予想以上にお金はとんでった。それでも環境も良くなったので幸せっちゃあ幸せ。その顛末の話。

MacBook Pro 13inch BTOカスタムを買いました
------------------------------------------------------------
巷ではMacが出るたびにMacってそんなに良くないでしょ教とスタバでノマド宗が対立するわけだけど、彼等はコマンド叩かない派だろうなので別世界の闘争ですね。

そもそもそろそろとは思ってたもののMacを買い変える予定はなかった。だが、WWDCを控えたある日、リッドクローズ（クラムシェル）モードで使ってたMacBook Airに異変があったことに気づいてしまった。クローズできてない。殻を閉じてるはずの貝が半開きだ。確認したらバッテリーがわずかに膨張してた……。思いあたるのはなんか回してたプロセスが暴走してるなーって思ってたけどほっといたことがあって、長時間高負荷高熱状態が続いたんでしょう、きっと。

そんなわけで、WWDCもちょうどあってラップトップのアップデートが来るとの話もあり、買い替えることに。ちなみに瀕死のMacBook Airは修理に出して戻ってきたら妻さんにあげる予定。

### カスタムの話
僕は今の職場の影響もあって現在はUSキーボードに慣れてしまったので、BTOモデルで。あ、印字がカッコイイとか見栄えのどうでもいい話じゃない。US配列のほうが記号系が打ち易い、あとSKK派としては`かな/英数`キーとかどうでもいいです。必要でもKarabinerでコマンドキーをDoubleFunctionにすればいいし。普段は家で外付けキーボード使うけど、持ち出すこともあるので、一応US配列にしといた。これは後から変えられないし。

あとはメモリとSSD容量を増設。CPUはそのまんま。MacBookAirの時にやっぱり256GBだとちょっと窮屈だったり、外付けHDDと併用して整理する必要があったのでここは余裕を持たせる為に増設。メモリも念のため。CPUは一時的に高負荷になることはあるだろうけど、まあ予算的に泣いた感じで妥協した。

ともかく考えたのは、基本は今までどおり家での外付けをバシバシ繋げてデスクトップ的に使う運用をメインとしつつ、いざとなったら持ち運んでもそれだけで（いろんなもの持たなくても）大丈夫なように。という感じで。15インチか迷ったけど予算と持ち運び時の利便性を重視して13で。ということで、基本閉じてるためにTouchBarはないモデル（あのオプション高いし、物理ESCキーは欲しいし、タッチバーって手元に近いところに視線を移す必要があるのはなんか違うんじゃないのかね）

4Kディスプレイを新調しました
------------------------------------------------------------
職場でRetinaのMacBookProを使いだして、やっぱりフォントがくっきりパッキリキレイなのは良いなぁと思ってしまって。じゃあ家でもってことで4Kにすることにした。

で、結局買ったのが「KEIAN KWIN-4K32B 4K液晶ディスプレイ32型大型ワイド」
<div class="cstmreba"><div class="kaerebalink-box"><div class="kaerebalink-image"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B071YF2TQG/akicks-22/" target="_blank" ><img src="https://images-fe.ssl-images-amazon.com/images/I/41negSPGHgL._SL160_.jpg" style="border: none;" /></a></div><div class="kaerebalink-info"><div class="kaerebalink-name"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B071YF2TQG/akicks-22/" target="_blank" >KEIAN KWIN-4K32B　4K液晶ディスプレイ　32型大型ワイド</a><div class="kaerebalink-powered-date">posted with <a href="http://kaereba.com" rel="nofollow" target="_blank">カエレバ</a></div></div><div class="kaerebalink-detail"> KEIAN     </div><div class="kaerebalink-link1"><div class="shoplinkamazon"><a href="http://www.amazon.co.jp/gp/search?keywords=KEIAN%20KWIN-4K32B%E3%80%804K%E6%B6%B2%E6%99%B6%E3%83%87%E3%82%A3%E3%82%B9%E3%83%97%E3%83%AC%E3%82%A4%E3%80%8032%E5%9E%8B%E5%A4%A7%E5%9E%8B%E3%83%AF%E3%82%A4%E3%83%89&__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&tag=akicks-22" target="_blank" >Amazonで探す</a></div><div class="shoplinkrakuten"><a href="https://hb.afl.rakuten.co.jp/hgc/12d74c18.2043b39b.12d74c19.fa137382/?pc=http%3A%2F%2Fsearch.rakuten.co.jp%2Fsearch%2Fmall%2FKEIAN%2520KWIN-4K32B%25E3%2580%25804K%25E6%25B6%25B2%25E6%2599%25B6%25E3%2583%2587%25E3%2582%25A3%25E3%2582%25B9%25E3%2583%2597%25E3%2583%25AC%25E3%2582%25A4%25E3%2580%258032%25E5%259E%258B%25E5%25A4%25A7%25E5%259E%258B%25E3%2583%25AF%25E3%2582%25A4%25E3%2583%2589%2F-%2Ff.1-p.1-s.1-sf.0-st.A-v.2%3Fx%3D0%26scid%3Daf_ich_link_urltxt%26m%3Dhttp%3A%2F%2Fm.rakuten.co.jp%2F" target="_blank" >楽天市場で探す</a></div></div></div><div class="booklink-footer"></div></div></div>

結果的に言えば、ちょっと大きすぎた。大きくても27インチぐらいがベストだったかもしれない。ただ、しっかりと4Kなので<del>QuickRes使って、HiDPIモード</del>システム環境設定の解像度調節をOptionキーを押しながら設定することで細かく調整できる。なのでRetina的な表示で1920×1080にしてるとかなり良い感じ。でもやっぱり27インチにしといても良かったと思いつつも、実はこのディスプレイ、DELLとかの割と安価なディスプレイに比べてもまだ安い。4K32インチで4万円をきってくるのはお買い得。しかもIPSパネル。

その分、発色まわりはちょっと残念かな、この辺は画質調整次第ですこし改善できるから良しとする。個人的のはグレアパネルが反射しすぎて苦手なのでノングレアなのもうれしい。それと、スタンドまわりはかなりやっかい。まず付属のスタンドはそんな良くない。僕はアーム派なのでどうでもいいと思いきや、VESAの200×100アダプタを噛ませたんだけど、なんとディスプレイ本体につけるビスの径が違う。具体的には通常だとM4規格なのにこの本体側の穴はM6。確かに32インチになると重さもあるのでそっちのほうがいいんだけど、普通にやったらハマらない。

で、結局アーム側のアダプタの穴をダイヤモンドヤスリでしこしこと削って拡張して合わせた。1つにつき円状に2mmづつ広げる、これを4箇所。丸一日かかりました。

### Macと接続する話
でまわってるケーブルとかの情報は本当クソだ。HDMI1.4のものなのか、2.0のものなのか悪意を感じられるレベルで情報不足。どいつもこいつも「4K対応！」って謳いすぎ。4K/60Hz対応（HDMI2.0）なのか、4K/30Hz(HDMI1.4)どまりなのか全然わかりゃしない。というか4K!みたいに言ってる機器はほぼHDMI1.4なので本当注意が必要。つかませる気マンマンの意図が透けて見えやがる。

詳しくは調べてもらえばいいけど、「4K」とは通称で、4000を意味するのみ。解像度の長辺側がだいたい4000pxであればなんでも4Kといって良いらしい。HDMI1.4でも2.0でもどちらも事実上は「4K」出力は可能だけど、伝送量は桁が違う。1.4は3840×2160(30Hz)、4096×2160(24Hz)が限界だ。HDMI2.0であれば4096×2160(60Hz)でいける。ゲームとか動きの速くない動画じゃなければいいと思うかもしれない。だけどできるのにケーブルの問題でできないのは気にくわない。HDMIっていうれっきとした規格があるんだからそれを明記しないで、単に「4K！」と喧伝するのは本当底意地が悪い。

そんな中で、僕の選んだ接続環境は「AUKEY USB Cハブ4K HDMI出力4x USB3.0ポート ( USB Type cパワーデリバリー 充電ポート付き )」と「Plugable USB Type-C（USB-C）- HDMI 2.0変換ケーブル」にした。MacBook Pro専用の2つのUSBを使って横にぴったりドック的に着くスタイリッシュなアダプタと悩んだけど、最終的にはこの構成に落ちついた。というのも

+ ドック的な奴でHDMI2.0対応明記がみつからなかったのと、どうも発熱問題があるっぽい
+ MacBook Pro専用よりかは汎用のほうがなにかと良いだろう
+ ドック的な奴でよくついてるカードリーダーは別にUSBの口さえあればUSBカードリーダーでどうとでもなる
+ 家以外の環境で使ったときにHDMI-HDMIが必要な日が来るかもしれないのであるにこしたことはない
+ 家で使う分にはHDMIアダプタ経由にしてしまうとアダプタが劣化したときに面倒（以前にアダプタが接続不良になって難儀した）
+ Thunderbolt-HDMIのこのケーブルの公式で謳ってる説明の説得力

7/2追記の補足。QuickResのほうがさらに細かく設定できるのは間違いないけど、純粋に倍のピクセル密度にしないと疑似になってしまうため、60Hzでず、30Hzで表示される。動画もあまりみないし、ゲームもMacではしないので大したことないと思いきやマウスカーソルの滑かさですでに驚愕だったので、60Hzつまり60fpsで動作させることを優先させた。

という理由から
<div class="cstmreba"><div class="kaerebalink-box"><div class="kaerebalink-image"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B01F8W4654/akicks-22/" target="_blank" ><img src="https://images-fe.ssl-images-amazon.com/images/I/41KhJOMbyZL._SL160_.jpg" style="border: none;" /></a></div><div class="kaerebalink-info"><div class="kaerebalink-name"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B01F8W4654/akicks-22/" target="_blank" >AUKEY USB C ハブ 4K HDMI 出力 4x USB3.0 ポート ( USB Type c パワーデリバリー 充電ポート付き )CB-C58</a><div class="kaerebalink-powered-date">posted with <a href="http://kaereba.com" rel="nofollow" target="_blank">カエレバ</a></div></div><div class="kaerebalink-detail"> AUKEY（オーキー）     </div><div class="kaerebalink-link1"><div class="shoplinkamazon"><a href="http://www.amazon.co.jp/gp/search?keywords=AUKEY%20USB%20C%20%E3%83%8F%E3%83%96%204K%20HDMI%20%E5%87%BA%E5%8A%9B%204x%20USB3.0%20%E3%83%9D%E3%83%BC%E3%83%88&__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&tag=akicks-22" target="_blank" >Amazonで探す</a></div><div class="shoplinkrakuten"><a href="https://hb.afl.rakuten.co.jp/hgc/12d74c18.2043b39b.12d74c19.fa137382/?pc=http%3A%2F%2Fsearch.rakuten.co.jp%2Fsearch%2Fmall%2FAUKEY%2520USB%2520C%2520%25E3%2583%258F%25E3%2583%2596%25204K%2520HDMI%2520%25E5%2587%25BA%25E5%258A%259B%25204x%2520USB3.0%2520%25E3%2583%259D%25E3%2583%25BC%25E3%2583%2588%2F-%2Ff.1-p.1-s.1-sf.0-st.A-v.2%3Fx%3D0%26scid%3Daf_ich_link_urltxt%26m%3Dhttp%3A%2F%2Fm.rakuten.co.jp%2F" target="_blank" >楽天市場で探す</a></div></div></div><div class="booklink-footer"></div></div></div>
<div class="cstmreba"><div class="kaerebalink-box"><div class="kaerebalink-image"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B0727QQLV2/akicks-22/" target="_blank" ><img src="https://images-fe.ssl-images-amazon.com/images/I/313%2BAUfxeXL._SL160_.jpg" style="border: none;" /></a></div><div class="kaerebalink-info"><div class="kaerebalink-name"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B0727QQLV2/akicks-22/" target="_blank" >Plugable USB Type-C（USB-C）- HDMI 2.0 変換ケーブル</a><div class="kaerebalink-powered-date">posted with <a href="http://kaereba.com" rel="nofollow" target="_blank">カエレバ</a></div></div><div class="kaerebalink-detail"> Plugable     </div><div class="kaerebalink-link1"><div class="shoplinkamazon"><a href="http://www.amazon.co.jp/gp/search?keywords=Plugable%20USB%20Type-C%EF%BC%88USB-C%EF%BC%89-%20HDMI%202.0%20%E5%A4%89%E6%8F%9B%E3%82%B1%E3%83%BC%E3%83%96%E3%83%AB&__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&tag=akicks-22" target="_blank" >Amazonで探す</a></div><div class="shoplinkrakuten"><a href="https://hb.afl.rakuten.co.jp/hgc/12d74c18.2043b39b.12d74c19.fa137382/?pc=http%3A%2F%2Fsearch.rakuten.co.jp%2Fsearch%2Fmall%2FPlugable%2520USB%2520Type-C%25EF%25BC%2588USB-C%25EF%25BC%2589-%2520HDMI%25202.0%2520%25E5%25A4%2589%25E6%258F%259B%25E3%2582%25B1%25E3%2583%25BC%25E3%2583%2596%25E3%2583%25AB%2F-%2Ff.1-p.1-s.1-sf.0-st.A-v.2%3Fx%3D0%26scid%3Daf_ich_link_urltxt%26m%3Dhttp%3A%2F%2Fm.rakuten.co.jp%2F" target="_blank" >楽天市場で探す</a></div></div></div><div class="booklink-footer"></div></div></div>

現在の使ってる環境

+ <del>macOS sierraでQuickRes使用のHiDPIモード、2048×1152の解像度</del>
+ macOS sierraで解像度設定をOption押しながらの調節で1920×1080の60Hzで動作
+ default writeで外部ディスプレイ用のフォントアンチエイリアスを調整
+ Ergotronの100×100のVESAマウンタに200×100のアダプタ噛ませて、ビス穴拡張してKEIANと繋げた
+ Mac-Thunderbolt to HDMI2.0ケーブル-KEIANディスプレイ（直結）
+ USB接続はAUKEYのアダプタで、電源もパワーデリバリー経由で取る

Ergodox + MagicTrackPad
------------------------------------------------------------
以前からつかってた変態キーボードKinesisですが、Ergodoxに乗り変えてしまった。セパレート型にあこがれて。
Ergodoxで情報を見るとよく親指Enterとかに慣れないって言うけど、僕の場合はKinesisで慣れたのでまったく問題ない。

スイッチは秋葉原に繰り出してCherry MXの打ち心地の違いを入念にチェック、スコスコ軽く打ててそれでいて音がしない感じが好きなので、一番肌に合ったのはピンク軸。ただ、Ergodox EZの場合、CherryMX互換のGeteronだからピンク軸はない（当時。現在もピンク軸はないもののErgodox EZの軸はCherryMXが正式採用された模様）。そこで、密かに試してみたかった赤軸+静音リング。ピンク軸まで満足度は高くないものの、十分満足できる範囲だったので、Ergodox EZ赤軸 + 静音リング2つが現在の仕様。打ち心地に関しては満足してる。

そのうち紹介したいと思うけど、親指に割りあてた<kbd>Enter</kbd>と<kbd>Backspace</kbd>の配置をKinesisを使ってたときから逆にした。これが慣れずに誤爆すること多数。また、MagicTrackPadも未だ置き場所が確定してない。左右の間に置くのがいいのか、右のさらに右に置くのがいいのか。1つ言えるのは手全体の動きが少なくなるようにするのが良いので専用の台を仮につくったらちょっと使いやすくなった。この方向でもっと改良していきたい。

ちなみにキー配置に関してはけっこう弄ってる。ファームウェアのビルドもDockerで難なくできるし、カスタムもそう難しくない。タップと押し続けて違う動作をさせられるのでこれでKarabinerへの依存が減ると思いきや、挙動に納得行かずDoubleFunctionはKarabinerにまかせてる。どうせ他の機能の実現でもKarabinerに頼らざるを得ないし。

あとは細かいカスタムで言うと、ホームポジションのポッチがなくてわかりにくいのはいろいろ試した結果、ダイモ（エンボスのラベルテープが作れるテプラ的なやつ）で作ったテープを貼ったらすごく良い感じになったので、誰かに伝えていきたい。

Macの移行とか
------------------------------------------------------------
僕はMacのOSをアップグレードするときとか、本体を乗り変える時、前のデータをまんま移行しない派。以前の移行アシスタントは信頼性に欠ける時代があったのと、環境をきれいにする良いきっかけになるから。

今回はBrew Caskを使いだしたのでかなり楽にいろいろとインストールできたと思う。それに付随するようにいろいろ初期設定とかダウンロードとかやってくれるシェルスクリプトを書いて実行したんだけど、ちょっと上手くいかなかったこともあるのでもうちょっと改良していきたい。

ただ、それだけで当然カバーできない設定もけっこうあってこの週末でようやく整ったかな、って感じ。
ともあれ、ムダにデカいディスプレイもフォントをパッキリ表示してくれるし、キーボードも馴染んできたし、Macも速くなったので万々歳。一気にやったからお金がいっぺんに出てってしまったこと意外は大満足。

Macの初期設定やら、Ergodoxとかの話はもうちょっとつっこんでまた書きます。
